schema: '2.0'
stages:
  preprocessing:
    cmd: python src/preprocessing_augmentation.py
    deps:
    - path: data/FER2013
      md5: 3a60a2cf7073f0e142e1fc108e6f7949.dir
      size: 56510189
      nfiles: 35887
    params:
      params.yaml:
        prepare_phase.seed: 42
    outs:
    - path: data/preprocessed
      md5: 1d06b0c9cc13a1db4e33c12ceece85c8.dir
      size: 61572962
      nfiles: 39811
  train:
    cmd: python src/train.py
    deps:
    - path: data/preprocessed_lbp
      md5: 9a112f179e121c8a597e5542eb4622ed.dir
      size: 77248125
      nfiles: 39811
    - path: src/train.py
      md5: 2ae346603fec8196778ff8ff7c4c23b5
      size: 3955
    params:
      params.yaml:
        train.batch_size: 128
        train.decay: 1e-06
        train.learning_rate: 0.00021141896415852212
        train.n_epoch: 43
        train.seed: 142
    outs:
    - path: model/emotion_model.h5
      md5: 9661a4e954876ac09eb01a922cca1491
      size: 9413600
    - path: model/emotion_model.json
      md5: bd937d28dad34290b51c6fb6a5f0f908
      size: 4590
  evaluation:
    cmd: python src/evaluation.py
    deps:
    - path: data/preprocessed_lbp
      md5: 9a112f179e121c8a597e5542eb4622ed.dir
      size: 77248125
      nfiles: 39811
    - path: model/emotion_model.h5
      md5: 9661a4e954876ac09eb01a922cca1491
      size: 9413600
    - path: model/emotion_model.json
      md5: bd937d28dad34290b51c6fb6a5f0f908
      size: 4590
    params:
      params.yaml:
        test.seed: 145
  preprocesslbp:
    cmd: python src/lbp_preprocessing_script.py
    deps:
    - path: data/preprocessed
      md5: 1d06b0c9cc13a1db4e33c12ceece85c8.dir
      size: 61572962
      nfiles: 39811
    outs:
    - path: data/preprocessed_lbp
      md5: 9a112f179e121c8a597e5542eb4622ed.dir
      size: 77248125
      nfiles: 39811
